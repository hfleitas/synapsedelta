{
	"name": "DeltaServerless",
	"properties": {
		"folder": {
			"name": "Delta"
		},
		"content": {
			"query": "create credential [https://wplushiramsynapseadlsv2.dfs.core.windows.net/wplushiramsynapsefs] \nwith \n    identity = 'SHARED ACCESS SIGNATURE', \n    secret = 'mySASkey';\ngo \n\nselect * from sys.credentials;\ngo\n\ncreate view vDeltaTarget\nas\nSELECT *\nFROM OPENROWSET(\n    BULK 'abfss://wplushiramsynapsefs@wplushiramsynapseadlsv2.dfs.core.windows.net/synapse/workspaces/wplushiramsynapse/warehouse/target',\n    FORMAT = 'delta') as rows\ngo\n\ncreate view vDeltaLastChanges\nas\nSELECT *\nFROM OPENROWSET(\n    BULK 'abfss://wplushiramsynapsefs@wplushiramsynapseadlsv2.dfs.core.windows.net/synapse/workspaces/wplushiramsynapse/warehouse/lastchanges',\n    FORMAT = 'delta') as rows \ngo\n\nselect * from vDeltaTarget\nselect * from vDeltaLastChanges",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "hiram",
				"poolName": "Built-in"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}