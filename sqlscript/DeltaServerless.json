{
	"name": "DeltaServerless",
	"properties": {
		"folder": {
			"name": "Delta"
		},
		"content": {
			"query": "create view vDeltaTarget\nas\nSELECT *\nFROM OPENROWSET(\n    BULK 'abfss://wplushiramsynapsefs@wplushiramsynapseadlsv2.dfs.core.windows.net/synapse/workspaces/wplushiramsynapse/warehouse/target',\n    FORMAT = 'delta') as rows\ngo\n\ncreate view vDeltaLastChanges\nas\nSELECT *\nFROM OPENROWSET(\n    BULK 'abfss://wplushiramsynapsefs@wplushiramsynapseadlsv2.dfs.core.windows.net/synapse/workspaces/wplushiramsynapse/warehouse/lastchanges',\n    FORMAT = 'delta') as rows \ngo\n\nselect * from vDeltaTarget\n\n/*Pipeline dataset error\nError code 22301\nDetails\nA database operation failed with the following error: \n'Cannot find the CREDENTIAL 'https://wplushiramsynapseadlsv2.dfs.core.windows.net/wplushiramsynapsefs/synapse/workspaces/wplushiramsynapse/warehouse/target', \nbecause it does not exist or you do not have permission. Could not use view or function 'dbo.vDeltaTarget' because of binding errors.' \nCannot find the CREDENTIAL 'https://wplushiramsynapseadlsv2.dfs.core.windows.net/wplushiramsynapsefs/synapse/workspaces/wplushiramsynapse/warehouse/target', \nbecause it does not exist or you do not have permission. Could not use view or function 'dbo.vDeltaTarget' because of binding errors., \nSqlErrorNumber=15151,Class=16,State=1, Activity ID: a95f734b-4902-4380-9976-7b6398d32915\n*/\nCREATE CREDENTIAL [https://<mystorageaccountname>.dfs.core.windows.net/<mystorageaccountcontainername>]\nWITH IDENTITY='SHARED ACCESS SIGNATURE'\n, SECRET = 'sv=2018-03-28&ss=bfqt&srt=sco&sp=rwdlacup&se=2019-04-18T20:42:12Z&st=2019-04-18T12:42:12Z&spr=https&sig=lQHczNvrk1KoYLCpFdSsMANd0ef9BrIPBNJ3VYEIq78%3D';\nGO",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "hiram",
				"poolName": "Built-in"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}